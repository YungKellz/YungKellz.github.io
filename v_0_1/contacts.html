<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Дарья Костина - фотограф</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
	<link rel="stylesheet" type="text/css" href="slick/slick.css">
	<link rel="stylesheet" type="text/css" href="slick/slick-theme.css">
	<link rel="stylesheet" type="text/css" href="css/BeerSlider.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat|Montserrat+Alternates&amp;subset=cyrillic" rel="stylesheet">
</head>
<body>
	<nav class="fixed-top nav-bar">	
		<div class="container">
			<div class="row align-items-center">	
				<div class="col-md-6 col-xs-12 logo-pic"><a href="index.html" class=""><img src="img/logo.png" alt="logo"></a></div>
				<div class="col-md-6 text-uppercase menu-line">
					<a href="index.html" class="menu-txt">главная</a>
					<a href="portfolio.html" class="menu-txt">портфолио</a>
					<a href="services.html" class="menu-txt">услуги</a>
					<a href="about.html" class="menu-txt">обо мне</a>
					<a href="contacts.html" class="menu-txt active-page">контакты</a>
				</div>
			</div>
		</div>
	</nav>
	
	<!-- Скрипты -->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<!-- WOW анимайшон -->
	<script src="js/wow.min.js"></script>
	<script>
		var wow = new WOW;
		wow.init();
	</script>
	<!-- Слик слайдер -->
	<script type="text/javascript" src="slick/slick.min.js"></script>
	<script>
		$(document).ready(function(){
		  	$('.work-examples').slick({
		  		infinite: true,
				slidesToShow: 3,
				slidesToScroll: 3,
				responsive: [
				    {
				      breakpoint: 992,
				      settings: {
				        slidesToShow: 2,
				        slidesToScroll: 2,
				        infinite: true,
				      }
				    },
				    {
				      breakpoint: 721,
				      settings: {
				        slidesToShow: 1,
				        slidesToScroll: 1
				      }
				    }
				  ]
		  	});
		});
	</script>
	<!-- Before After slider -->
	<script type="text/javascript">
		$(document).ready(function() {
			if ($(".comparison-slider")[0]) {
			let compSlider = $(".comparison-slider");
		
			//let's loop through the sliders and initialise each of them
			compSlider.each(function() {
				let compSliderWidth = $(this).width() + "px";
				$(this).find(".resize img").css({ width: compSliderWidth });
				drags($(this).find(".divider"), $(this).find(".resize"), $(this));
			});

			//if the user resizes the windows lets update our variables and resize our images
			$(window).on("resize", function() {
				let compSliderWidth = compSlider.width() + "px";
				compSlider.find(".resize img").css({ width: compSliderWidth });
			});
			}
		});

		function drags(dragElement, resizeElement, container) {
			
			// This creates a variable that detects if the user is using touch input insted of the mouse.
			let touched = false;
			window.addEventListener('touchstart', function() {
				touched = true;
			});
			window.addEventListener('touchend', function() {
				touched = false;
			});
			
			// clicp the image and move the slider on interaction with the mouse or the touch input
			dragElement.on("mousedown touchstart", function(e) {
					
					//add classes to the emelents - good for css animations if you need it to
					dragElement.addClass("draggablee");
					resizeElement.addClass("resizablee");
					//create vars
					let startX = e.pageX ? e.pageX : e.originalEvent.touches[0].pageX;
					let dragWidth = dragElement.outerWidth();
					let posX = dragElement.offset().left + dragWidth - startX;
					let containerOffset = container.offset().left;
					let containerWidth = container.outerWidth();
					let minLeft = containerOffset + 10;
					let maxLeft = containerOffset + containerWidth - dragWidth - 10;
					
					//add event listner on the divider emelent
					dragElement.parents().on("mousemove touchmove", function(e) {
						
						// if the user is not using touch input let do preventDefault to prevent the user from slecting the images as he moves the silder arround.
						if ( touched === false ) {
							e.preventDefault();
						}
						
						let moveX = e.pageX ? e.pageX : e.originalEvent.touches[0].pageX;
						let leftValue = moveX + posX - dragWidth;

						// stop the divider from going over the limits of the container
						if (leftValue < minLeft) {
							leftValue = minLeft;
						} else if (leftValue > maxLeft) {
							leftValue = maxLeft;
						}

						let widthValue = (leftValue + dragWidth / 2 - containerOffset) * 100 / containerWidth + "%";

						$(".draggablee").css("left", widthValue).on("mouseup touchend touchcancel", function() {
							$(this).removeClass("draggablee");
							resizeElement.removeClass("resizablee");
						});
						
						$(".resizablee").css("width", widthValue);
						
					}).on("mouseup touchend touchcancel", function() {
						dragElement.removeClass("draggablee");
						resizeElement.removeClass("resizablee");
						
					});
				
				}).on("mouseup touchend touchcancel", function(e) {
					// stop clicping the image and move the slider
					dragElement.removeClass("draggablee");
					resizeElement.removeClass("resizablee");
				
				});
		}
	</script>
</body>
</html>